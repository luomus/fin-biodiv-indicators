<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="fbi">
<title>Configuration • fbi</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><link href="../deps/Roboto-0.4.3/font.css" rel="stylesheet">
<!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Configuration">
<meta property="og:description" content="fbi">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">fbi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.11.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../../../__docs__/#overview">API</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../articles/configuration.html">Configuration</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-example-indicators">Example Indicators</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-example-indicators">
    <a class="dropdown-item" href="../articles/winter-birds.html">Winter Birds</a>
    <a class="dropdown-item" href="../articles/alpine-birds.html">Alpine Birds</a>
    <a class="dropdown-item" href="../articles/farmland-birds.html">Farmland Birds</a>
    <a class="dropdown-item" href="../articles/forest-birds.html">Forest Birds</a>
    <a class="dropdown-item" href="../articles/mire-birds.html">Mire Birds</a>
    <a class="dropdown-item" href="../articles/moths.html">Moths</a>
    <a class="dropdown-item" href="../articles/farmland-butterflies.html">Farmland Butterflies</a>
    <a class="dropdown-item" href="../articles/butterfly-abundance.html">Butterfly Overall Abundance</a>
    <a class="dropdown-item" href="../articles/community-temperature-indices.html">Community Temperature Indices</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-code-demos">Code Demos</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-code-demos">
    <a class="dropdown-item" href="../articles/single-taxon-indicator-trim.html">Single-taxon indicator (trim)</a>
    <a class="dropdown-item" href="../articles/single-taxon-indicator-rbms.html">Single-taxon indicator (rbms)</a>
    <a class="dropdown-item" href="../articles/multi-taxon-indicator-trim.html">Multi-taxon indicator (trim)</a>
    <a class="dropdown-item" href="../articles/community-temperature-index.html">Community temperature index</a>
    <a class="dropdown-item" href="../articles/overall-abundance.html">Overall abundance</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Function Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/luomus/fin-biodiv-indicators/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Configuration</h1>
                        <h4 data-toc-skip class="author">William K.
Morris</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/luomus/fin-biodiv-indicators/blob/dev/pkg/vignettes/configuration.Rmd" class="external-link"><code>vignettes/configuration.Rmd</code></a></small>
      <div class="d-none name"><code>configuration.Rmd</code></div>
    </div>

    
    
<p>The FinBIF Biodiversity Indicators Service (FBI) is configured using
a <a href="https://yaml.org/spec/1.2.2/" title="YAML Spec 1.2.2" class="external-link"><code>YAML</code></a> file. The “live” config
file can be accessed and edited <a href="https://conf-fbi.rahtiapp.fi/" class="external-link pkgdown-release" title="FBI configuration">here</a> (requires authentification) while the
“source” version of <a href="https://raw.githubusercontent.com/luomus/fin-biodiv-indicators/main/config/config.yml" class="external-link pkgdown-release">the file</a> is stored in the FBI code repository.
The FBI service uses the “live” editable version of the config file.
But, the source version should be kept up to date as possible and
treated as a backup. When the service application is initialised, the
source version of the config file is used as a starting
configuration.</p>
<p>Each multi-taxon indicator has its own object in the configuration
file. For example, the Farmland Breeding Bird indicator, and the
single-taxon indicators that belong to it, are configured using the
parameters outlined below, where the top-level key, <code>flb</code>, is
the short-code of the indicator.</p>
<details closed><summary><span title="">Click to show/hide example configuration</span>
</summary><div class="sourceCode" id="cb1"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">flb</span><span class="kw">:</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">name</span><span class="kw">:</span><span class="at"> Farmland birds</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">taxa</span><span class="kw">:</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.27328</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Crex crex</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2006</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.27527</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Vanellus vanellus</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.27613</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Numenius arquata</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.32065</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Alauda arvensis</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.32132</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Hirundo rustica</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.32163</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Delichon urbicum</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.32213</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Anthus pratensis</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.32949</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Saxicola rubetra</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.33117</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Turdus pilaris</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.33936</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Sylvia communis</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.37142</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Corvus monedula</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.36817</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Sturnus vulgaris</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.36589</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Passer montanus</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">start_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2006</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">code</span><span class="kw">:</span><span class="at"> MX.35154</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">binomial</span><span class="kw">:</span><span class="at"> Emberiza hortulana</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">filters</span><span class="kw">:</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">date_range_ymd</span><span class="kw">:</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="st">"1979-01-01"</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> </span><span class="st">""</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">location_tag</span><span class="kw">:</span><span class="at"> farmland</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">collection</span><span class="kw">:</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> HR.157</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> HR.61</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">surveys</span><span class="kw">:</span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">selection</span><span class="kw">:</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> document_id</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> location_id</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> year</span></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> month</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> day</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">has_value</span><span class="kw">:</span></span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> document_id</span></span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> location_id</span></span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> year</span></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> month</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> day</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">counts</span><span class="kw">:</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">abundance</span><span class="kw">:</span><span class="at"> pair_abundance</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">selection</span><span class="kw">:</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> document_id</span></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> pair_abundance</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">has_value</span><span class="kw">:</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> document_id</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> pair_abundance</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">combine</span><span class="kw">:</span><span class="at"> geometric_mean</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">use_data_after</span><span class="kw">:</span><span class="at"> </span><span class="st">"10-01"</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">model</span><span class="kw">:</span></span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">trim</span><span class="kw">:</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">base_year</span><span class="kw">:</span><span class="at"> </span><span class="dv">2000</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">surveys_process</span><span class="kw">:</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> pick_first_survey_in_year</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> require_two_years</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="fu">counts_process</span><span class="kw">:</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> zero_fill</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> sum_by_event</span></span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> set_start_year</span></span>
<span id="cb1-75"><a href="#cb1-75" aria-hidden="true" tabindex="-1"></a><span class="at">      </span><span class="kw">-</span><span class="at"> remove_all_zero_locations</span></span></code></pre></div>
</details><div class="section level2">
<h2 id="defaults">Defaults<a class="anchor" aria-label="anchor" href="#defaults"></a>
</h2>
<p>Default parameters that apply to all indicators can be specified in a
special object with the top-level key, <code>default</code> (see below).
Defaults can be overwritten by specifying different parameters value for
the indicator objects.</p>
<details closed><summary><span title="">Click to show/hide example defaults</span>
</summary><div class="sourceCode" id="cb2"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">default</span><span class="kw">:</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">surveys</span><span class="kw">:</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">selection</span><span class="kw">:</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> document_id</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> location_id</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> year</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> month</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> day</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">has_value</span><span class="kw">:</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> document_id</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> location_id</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> year</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> month</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="kw">-</span><span class="at"> day</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">counts</span><span class="kw">:</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">abundance</span><span class="kw">:</span><span class="at"> abundance</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">use_data_after</span><span class="kw">:</span><span class="at"> </span><span class="st">"01-01"</span></span></code></pre></div>
</details>
</div>
<div class="section level2">
<h2 id="sections">Sections<a class="anchor" aria-label="anchor" href="#sections"></a>
</h2>
<p>The following describes each section of the multi-taxon indicator
objects in more detail.</p>
<div class="section level3">
<h3 id="name">Name<a class="anchor" aria-label="anchor" href="#name"></a>
</h3>
<p>A string giving the long-form name of a multi-taxon indicator.</p>
</div>
<div class="section level3">
<h3 id="taxa">Taxa<a class="anchor" aria-label="anchor" href="#taxa"></a>
</h3>
<p>An array defining the taxa that are included in the multi-taxon
indicator and for which single-taxon indicators will be calculated.</p>
<p>Each element of the array must include:</p>
<ul>
<li>
<code>code</code>: a string indicating a FinBIF taxon MX code (e.g,
<code>MX.27328</code>).</li>
<li>
<code>binomial</code>: a string indicating a scientific taxon name
(e.g., <code>Crex crex</code>).</li>
</ul>
<p>And optionally include one or more of:</p>
<ul>
<li>
<code>extra_codes</code>: an array of FinBIF taxon MX codes to
include along with the nominal taxon declared with
<code>code</code>.</li>
<li>
<code>subtaxa</code>: a boolean indicating whether to include
observations of the child taxa of the taxa declared with
<code>code</code> and <code>extra_codes</code>.</li>
<li>
<code>start_year</code>: an integer indicating the year observation
data of the taxa should begin. Observation data from before this year
will be excluded. Note that if <code>start_year</code> is greater than
<code>base_year</code> (see section <a href="#model" title="Section model">Model</a>) then <code>base_year</code> for the
taxon will be set to <code>start_year</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="extra-taxa">Extra taxa<a class="anchor" aria-label="anchor" href="#extra-taxa"></a>
</h3>
<p>An array defining the taxa that are not included in the parent
multi-taxon indicator but for which single-taxon indicators will be
calculated.</p>
<p>Each element of the array is configured in the same way as <a href="#taxa" title="Section taxa"><code>taxa</code></a> above.</p>
</div>
<div class="section level3">
<h3 id="from">From<a class="anchor" aria-label="anchor" href="#from"></a>
</h3>
<p>Multi-taxon indicators can have no constituent single-taxon
indicators. In this case, the <code>from</code> section indicates which
other multi-taxon indicator (in the form of a short-code) the input data
comes from.</p>
</div>
<div class="section level3">
<h3 id="filters">Filters<a class="anchor" aria-label="anchor" href="#filters"></a>
</h3>
<p>The <code>filters</code> section is an object defining a list of
filters to apply to the observation data from FinBIF. See the finbif R
package <a href="https://luomus.github.io/finbif/reference/filters.html" class="external-link pkgdown-release" title="finbif docs">documentation</a> for
details.</p>
</div>
<div class="section level3">
<h3 id="surveys">Surveys<a class="anchor" aria-label="anchor" href="#surveys"></a>
</h3>
<p>The <code>surveys</code> section defines which fields are selected
when getting survey data from FinBIF. Fields are selected with the key
<code>selection</code> as an array (see the finbif R package <a href="https://luomus.github.io/finbif/reference/variables.html" class="external-link pkgdown-release" title="finbif docs">documentation</a> for
available fields). Under a second key, <code>has_value</code>, an array
indicates which fields must not have null values when filtering
records.</p>
</div>
<div class="section level3">
<h3 id="counts">Counts<a class="anchor" aria-label="anchor" href="#counts"></a>
</h3>
<p>The <code>counts</code> section defines which fields are selected
when accessing count data from FinBIF. This sections uses the
<code>selection</code> and <code>has_value</code> key in the same manner
as <a href="#Surveys" title="Section surveys"><code>above</code></a>.</p>
<p>An additional key, <code>abundance</code>, is used to indicate which
field is used as the abundance (counts) data.</p>
</div>
<div class="section level3">
<h3 id="combine">Combine<a class="anchor" aria-label="anchor" href="#combine"></a>
</h3>
<p>The section <code>combine</code> defines how single-taxon indicator
data is combined to form a multi-taxon indicator. Options include:</p>
<ul>
<li>
<code>geometric_mean</code>: combines relative abundance as the
geometric mean abundance.</li>
<li>
<code>cti</code>: combine abundances as a community temperature
index.</li>
<li>
<code>overall_abundance</code>: combine abundance as total abundance
for the taxon group.</li>
</ul>
</div>
<div class="section level3">
<h3 id="use-data-after">Use data after<a class="anchor" aria-label="anchor" href="#use-data-after"></a>
</h3>
<p>The section <code>use_data_after</code> defines what calendar date
(in the form <code>"MM-DD"</code>) data collected during the current
year should start being included in the indicator.</p>
</div>
<div class="section level3">
<h3 id="model">Model<a class="anchor" aria-label="anchor" href="#model"></a>
</h3>
<p>The <code>model</code> section defines how single- or multi-taxon
indicators are calculated from the survey and count data sourced from
FinBIF. The section consists of one or more model objects where the
object keys indicate the model being used. Models include:</p>
<ul>
<li>
<code>trim</code>: Trends and Indices for Monitoring data model (via
<a href="https://github.com/SNStatComp/rtrim" title="rtrim GitHub repository" class="external-link">rtrim</a>)</li>
<li>
<code>rbms</code>: Generalised abundance indices for butterfly
monitoring count data ( via <a href="https://retoschmucki.github.io/rbms/" title="rbms" class="external-link">rbms</a>)</li>
<li>
<code>lmer</code>: Linear Mixed Effects Regression (via <a href="https://github.com/lme4/lme4/" title="lme4 GitHub repository" class="external-link">lme4</a>)</li>
<li>
<code>glmer</code>: Generalised Linear Mixed Effects Regression (via
<a href="https://github.com/lme4/lme4/" title="lme4 GitHub repository" class="external-link">lme4</a>)</li>
</ul>
<p>Each element of the <code>model</code> section must include:</p>
<ul>
<li>
<code>surveys_process</code>: An array of survey data processing
functions (see <a href="../reference/index.html#processing-functions" title="Process functions">processing</a> )</li>
<li>
<code>counts_process</code> An array of count data processing
functions (see <a href="../reference/index.html#processing-functions" title="Process functions">processing</a> )</li>
</ul>
<p>And optionally include:</p>
<ul>
<li>
<code>base_year</code>: an integer indicating the base year of the
indicator.</li>
<li>
<code>args</code>: additional arguments passed to the modelling
function.</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by William K. Morris.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
