[{"path":[]},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement helpdesk@laji.fi. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired Mozilla’s code conduct enforcement ladder. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":[]},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing","text":"Small typos grammatical errors documentation may edited long changes made source file.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CONTRIBUTING.html","id":"prerequisites","dir":"","previous_headings":"","what":"Prerequisites","title":"Contributing","text":"make substantial pull request, always file issue make sure someone team agrees ’s problem.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"","what":"Pull request process","title":"Contributing","text":"recommend create Git branch pull request (PR). New code follow style used project. user-facing changes, add section top NEWS.Rd current development version header describing changes made followed username, links relevant issue(s)/PR(s).","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing","text":"Please note project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/community-temperature-index.html","id":"load-packages","dir":"Articles","previous_headings":"","what":"Load packages","title":"Community temperature index","text":"following packages required. packages available CRAN apart fbi can installed GitHub.","code":"library(dplyr) library(fbi) library(finbif) library(ggplot2) library(lubridate) library(lme4) library(arm)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/community-temperature-index.html","id":"survey-data","dir":"Articles","previous_headings":"","what":"Survey data","title":"Community temperature index","text":"five fields required survey data. filters restrict survey data Dec-Jan “Winter Bird Census” monitoring dataset December 1958 onwards selected data fields missing data. survey data can now downloaded FinBIF. single processing function applied survey data limit site first survey year (year period Dec-Jan).","code":"select <- c(\"document_id\", \"location_id\", \"year\", \"month\", \"day\") filter <- list(   collection = \"Winter Bird Census\",   date_range_ymd = c(\"1958-12-01\", \"\"),   date_range_md= c(\"12-01\", \"01-31\"),   has_value = select ) surveys <- finbif_occurrence(   filter = filter,   select = select,   aggregate = \"events\",   aggregate_counts = FALSE,   n = \"all\",   quiet = TRUE ) surveys <- pick_first_survey_in_winter(surveys)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/community-temperature-index.html","id":"count-data","dir":"Articles","previous_headings":"","what":"Count data","title":"Community temperature index","text":"Count data requires two fields selected: survey identifier (document_id) measure abundance (abundance_interpreted). count data requires filters survey data (though filter has_value needs redefined). set taxa species temperature index values defined. count data taxa can now downloaded FinBIF. count data combined survey data species temperature indices.","code":"select <- c(\"document_id\", abundance = \"abundance_interpreted\") filter[[\"has_value\"]] <- select sti <- c(   \"Poecile montanus\" = -7.51,   \"Regulus regulus\" = -4.23,   \"Lophophanes cristatus\" = -5.90,   \"Certhia familiaris\" = -6.89 ) counts <- lapply(   names(sti),   finbif_occurrence,   filter = filter,   select = select,   n = \"all\",   quiet = TRUE ) counts <- lapply(counts, combine_with_surveys, surveys)  counts <- mapply(mutate, counts, sp = names(sti), SIMPLIFY = FALSE)  counts <- do.call(rbind, counts)  counts[[\"sti\"]] <- sti[counts[[\"sp\"]]]"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/community-temperature-index.html","id":"create-index","dir":"Articles","previous_headings":"","what":"Create Index","title":"Community temperature index","text":"community temperature index year created fitting linear mixed effects regression model combined data. Community Temperature Index Winter Birds Finland","code":"cti_data <- summarise(   group_by(counts, location_id, year),   cti = sum(abundance * sti) / sum(abundance), .groups = \"drop\" )  cti <- lmer(cti ~ (1 | location_id) + (1 | year), cti_data)  cti <- data.frame(index = coef(cti)[[\"year\"]], se = se.coef(cti)[[\"year\"]])  cti[[\"time\"]] <- as.integer(row.names(cti))  names(cti) <- c(\"index\", \"se\", \"time\") ggplot(cti) + aes(   x = parse_date_time(time, \"Y\"),   y = index,   ymin = index - se,   ymax = index + se ) + geom_ribbon(alpha = .2) + geom_line() + ylab(NULL) + xlab(NULL) + theme_minimal()"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"defaults","dir":"Articles","previous_headings":"","what":"Defaults","title":"Configuration","text":"Default parameters apply indicators can specified special object top-level key, default (see ). Defaults can overwritten specifying different parameters value indicator objects.","code":"default:   surveys:     selection:     - document_id     - location_id     - year     - month     - day     has_value:     - document_id     - location_id     - year     - month     - day   counts:     abundance: abundance   use_data_after: \"01-01\""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"sections","dir":"Articles","previous_headings":"","what":"Sections","title":"Configuration","text":"following describes section multi-taxon indicator objects detail.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"name","dir":"Articles","previous_headings":"Sections","what":"Name","title":"Configuration","text":"string giving long-form name multi-taxon indicator.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"taxa","dir":"Articles","previous_headings":"Sections","what":"Taxa","title":"Configuration","text":"array defining taxa included multi-taxon indicator single-taxon indicators calculated. element array must include: code: string indicating FinBIF taxon MX code (e.g, MX.27328). binomial: string indicating scientific taxon name (e.g., Crex crex). optionally include one : extra_codes: array FinBIF taxon MX codes include along nominal taxon declared code. subtaxa: boolean indicating whether include observations child taxa taxa declared code extra_codes. start_year: integer indicating year observation data taxa begin. Observation data year excluded. Note start_year greater base_year (see section Model) base_year taxon set start_year.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"extra-taxa","dir":"Articles","previous_headings":"Sections","what":"Extra taxa","title":"Configuration","text":"array defining taxa included parent multi-taxon indicator single-taxon indicators calculated. element array configured way taxa .","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"from","dir":"Articles","previous_headings":"Sections","what":"From","title":"Configuration","text":"Multi-taxon indicators can constituent single-taxon indicators. case, section indicates multi-taxon indicator (form short-code) input data comes .","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"filters","dir":"Articles","previous_headings":"Sections","what":"Filters","title":"Configuration","text":"filters section object defining list filters apply observation data FinBIF. See finbif R package documentation details.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"surveys","dir":"Articles","previous_headings":"Sections","what":"Surveys","title":"Configuration","text":"surveys section defines fields selected getting survey data FinBIF. Fields selected key selection array (see finbif R package documentation available fields). second key, has_value, array indicates fields must null values filtering records.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"counts","dir":"Articles","previous_headings":"Sections","what":"Counts","title":"Configuration","text":"counts section defines fields selected accessing count data FinBIF. sections uses selection has_value key manner . additional key, abundance, used indicate field used abundance (counts) data.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"combine","dir":"Articles","previous_headings":"Sections","what":"Combine","title":"Configuration","text":"section combine defines single-taxon indicator data combined form multi-taxon indicator. Options include: geometric_mean: combines relative abundance geometric mean abundance. cti: combine abundances community temperature index. overall_abundance: combine abundance total abundance taxon group.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"use-data-after","dir":"Articles","previous_headings":"Sections","what":"Use data after","title":"Configuration","text":"section use_data_after defines calendar date (form \"MM-DD\") data collected current year start included indicator.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/configuration.html","id":"model","dir":"Articles","previous_headings":"Sections","what":"Model","title":"Configuration","text":"model section defines single- multi-taxon indicators calculated survey count data sourced FinBIF. section consists one model objects object keys indicate model used. Models include: trim: Trends Indices Monitoring data model (via rtrim) rbms: Generalised abundance indices butterfly monitoring count data ( via rbms) lmer: Linear Mixed Effects Regression (via lme4) glmer: Generalised Linear Mixed Effects Regression (via lme4) element model section must include: surveys_process: array survey data processing functions (see processing ) counts_process array count data processing functions (see processing ) optionally include: base_year: integer indicating base year indicator. args: additional arguments passed modelling function.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/multi-taxon-indicator-trim.html","id":"load-packages","dir":"Articles","previous_headings":"","what":"Load packages","title":"Multi-taxon indicator (trim)","text":"following packages required. packages available CRAN apart fbi can installed GitHub.","code":"library(dplyr) library(fbi) library(finbif) library(ggplot2) library(lubridate) library(rtrim)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/multi-taxon-indicator-trim.html","id":"survey-data","dir":"Articles","previous_headings":"","what":"Survey data","title":"Multi-taxon indicator (trim)","text":"five fields required survey data. filters restrict survey data “Point count” “Line transect” bird monitoring datasets 1979 onwards sites labelled “farmland” selected data fields missing data. survey data can now downloaded FinBIF. Two processing functions applied survey data first limit site first survey year limit surveys sites least two years surveyed.","code":"select <- c(\"document_id\", \"location_id\", \"year\", \"month\", \"day\") filter <- list(   location_tag = \"farmland\",   collection = c(     \"Point counts of breeding terrestrial birds\",     \"Line transect censuses of breeding birds\"   ),   date_range_ymd = c(\"1979-01-01\", \"\"),   has_value = select ) surveys <- finbif_occurrence(   filter = filter,   select = select,   aggregate = \"events\",   aggregate_counts = FALSE,   n = \"all\",   quiet = TRUE ) surveys <- pick_first_survey_in_year(surveys)  surveys <- require_two_years(surveys)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/multi-taxon-indicator-trim.html","id":"count-data","dir":"Articles","previous_headings":"","what":"Count data","title":"Multi-taxon indicator (trim)","text":"Count data requires two fields selected: survey identifier (document_id) measure abundance (case number breeding pairs: pair_abundance). count data requires filters survey data (though filter has_value needs redefined). set taxa contributing multi-taxon indicator selected. count data taxa can now downloaded FinBIF. Three processing functions applied count data : infill count data zero occurrences using survey data; sum counts site-year combination; remove sites number breeding pairs zero every occasion.","code":"select <- c(\"document_id\", abundance = \"pair_abundance\") filter[[\"has_value\"]] <- select taxa <- c(   \"Vanellus vanellus\", \"Numenius arquata\", \"Alauda arvensis\", \"Hirundo rustica\",   \"Delichon urbicum\", \"Anthus pratensis\", \"Saxicola rubetra\", \"Turdus pilaris\",   \"Sylvia communis\", \"Corvus monedula\", \"Sturnus vulgaris\" ) counts <- lapply(   taxa,   finbif_occurrence,   filter = filter,   select = c(\"scientific_name\", \"document_id\", abundance = \"pair_abundance\"),   n = \"all\",   quiet = TRUE ) counts <- lapply(counts, zero_fill, surveys)  counts <- lapply(counts, sum_by_event)  counts <- lapply(counts, remove_all_zero_locations)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/multi-taxon-indicator-trim.html","id":"fit-trim-models","dir":"Articles","previous_headings":"","what":"Fit TRIM Models","title":"Multi-taxon indicator (trim)","text":"TRIM model used estimate change abundance time taxon.","code":"model <- lapply(   counts, trim, count_col =\"abundance\", site_col = \"location_id\",   year_col = \"year\" )"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/multi-taxon-indicator-trim.html","id":"create-index","dir":"Articles","previous_headings":"","what":"Create Index","title":"Multi-taxon indicator (trim)","text":"index change relative abundance created taxon setting base year year 2000. indices combined single table geometric mean relative abundance associated uncertainty can calculated via Monte Carlo simulation method (see details). Geometric mean relative abundance Farmland Breeding Birds Finland (calculated using rTRIM)","code":"indices <- lapply(model, index, base = 2000)  indices <- mapply(mutate, indices, sp = taxa, SIMPLIFY = FALSE)  indices <- do.call(rbind, indices) n <- 1000 max_cv <- 3 imputed_min <- .01 truncfac <- 10 base <- 1 nyrs <- 44  indices <- mutate(   indices, cv = ifelse(imputed >= .1 & se_imp > 0, se_imp / imputed, NA_real_) )  indices <- group_by(indices, sp)  indices <- mutate(indices, cv = mean(cv, na.rm = TRUE))  indices <- filter(indices, cv < max_cv)  indices <- mutate(indices, imputed = pmax(imputed, imputed_min))  indices <- mutate(indices, se_imp = if_else(imputed > imputed_min, se_imp, 0))  indices <- mutate(indices, se_imp = se_imp / imputed)  indices <- mutate(indices, imputed = log(imputed))  indices <- group_by(indices, time, sp)  indices <- summarise(   indices, mc = rnorm(n, imputed, se_imp), i = seq(n), .groups = \"keep\" )  indices <- mutate(indices, mc = pmax(mc, log(imputed_min)))  indices <- group_by(indices, sp, i)  indices <- arrange(indices, time)  indices <- mutate(   indices, mcf = pmax(pmin(lead(mc) - mc, log(truncfac)), log(1 / truncfac)) )  indices <- arrange(indices, -time)  indices <- mutate(   indices, mcb = pmax(pmin(lead(mc) - mc, log(truncfac)), log(1 / truncfac)) )  indices <- group_by(indices, i, time)  index <- summarise(   indices,   mcf = mean(mcf, na.rm = TRUE), mcb = mean(mcb, na.rm = TRUE),   .groups = \"drop_last\" )  index <- arrange(index, time)  index <- mutate(index, mcf = cumsum(lag(lead(mcf, base - 1), base, 0)))  index <- arrange(index, -time)  index <- mutate(   index, mcb = cumsum(lag(lead(mcb, nyrs - base), nyrs - base + 1, 0)) )  index <- group_by(index, time)  index <- summarise(   index,   index = exp(mean(mcf)) * exp(mean(mcb)),   se = sd(mcf) * exp(mean(mcf)) + sd(mcb) * exp(mean(mcb)) ) ggplot(index) + aes(   x = parse_date_time(time, \"Y\"),   y = index,   ymin = index - se,   ymax = index + se ) + geom_ribbon(alpha = .2) + geom_line() + ylab(NULL) + xlab(NULL) + theme_minimal()"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/overall-abundance.html","id":"load-packages","dir":"Articles","previous_headings":"","what":"Load packages","title":"Overall abundance","text":"following packages required. packages available CRAN apart fbi can installed GitHub.","code":"library(dplyr) library(fbi) library(finbif) library(ggplot2) library(lubridate) library(lme4) library(arm)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/overall-abundance.html","id":"survey-data","dir":"Articles","previous_headings":"","what":"Survey data","title":"Overall abundance","text":"five fields required survey data. filters restrict survey data “Butterflies Finnish agricultural landscapes” dataset selected data fields missing data. survey data can now downloaded FinBIF. Two processing functions applied survey data first limit surveys sites least seven fortnights surveyed limit site’s surveys first survey fortnight.","code":"select <- c(\"document_id\", \"location_id\", \"year\", \"month\", \"day\") filter <- list(   collection = \"Butterflies in Finnish agricultural landscapes\",   has_value = select ) surveys <- finbif_occurrence(   filter = filter,   select = select,   aggregate = \"events\",   aggregate_counts = FALSE,   n = \"all\",   quiet = TRUE ) surveys <- require_seven_fortnights(surveys)  surveys <- pick_first_survey_in_fortnight(surveys)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/overall-abundance.html","id":"count-data","dir":"Articles","previous_headings":"","what":"Count data","title":"Overall abundance","text":"Count data requires three fields selected: survey identifier (document_id) survey site section (section) measure abundance (abundance_interpreted). count data requires filters survey data (though filter has_value needs redefined). set taxa contributing total abundance selected. count data taxa can now downloaded FinBIF. Three processing functions applied count data : sum counts survey site sections; combine count survey data together; amd sum counts site-year combination. count data can summed across taxa.","code":"select <- c(\"document_id\", \"section\", abundance = \"abundance_interpreted\") filter[[\"has_value\"]] <- select taxa <- c(   \"Aglais urticae\",   \"Boloria euphrosyne\",   \"Lycaena virgaureae\",   \"Polygonia c-album\" ) counts <- lapply(   taxa,   finbif_occurrence,   filter = filter,   select = select,   n = \"all\",   quiet = TRUE ) counts <- lapply(counts, sum_over_sections)  counts <- lapply(counts, combine_with_surveys, surveys)  counts <- lapply(counts, sum_by_event) counts <- mapply(mutate, counts, sp = taxa, SIMPLIFY = FALSE)  counts <- do.call(rbind, counts)  counts <- group_by(counts, location_id, year)  counts <- summarise(counts, abundance = sum(abundance), .groups = \"drop\")"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/overall-abundance.html","id":"create-index","dir":"Articles","previous_headings":"","what":"Create Index","title":"Overall abundance","text":"index total abundance year created fitting generalised linear mixed effects regression model combined data. Overall abundance Farmland Butterflies Finland","code":"model <- glmer(   abundance ~ (1 | location_id) + (1 | year), counts, family = \"poisson\" )  index <- data.frame(   index = coef(model)[[\"year\"]], se = se.coef(model)[[\"year\"]] )  index[[\"time\"]] <- as.integer(row.names(index))  names(index) <- c(\"index\", \"se\", \"time\") ggplot(index) + aes(   x = parse_date_time(time, \"Y\"),   y = index,   ymin = index - se,   ymax = index + se ) + geom_ribbon(alpha = .2) + geom_line() + ylab(NULL) + xlab(NULL) + theme_minimal()"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/single-taxon-indicator-rbms.html","id":"load-packages","dir":"Articles","previous_headings":"","what":"Load packages","title":"Single-taxon indicator (rbms)","text":"following packages required. packages available CRAN apart fbi rbms can installed GitHub.","code":"library(dplyr) library(fbi) library(finbif) library(ggplot2) library(lubridate) library(rbms)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/single-taxon-indicator-rbms.html","id":"survey-data","dir":"Articles","previous_headings":"","what":"Survey data","title":"Single-taxon indicator (rbms)","text":"five fields required survey data. filters restrict survey data “Butterflies Finnish agricultural landscapes” dataset selected data fields missing data. survey data can now downloaded FinBIF. single processing function applied survey data convert year month day fields single date field.","code":"select <- c(\"document_id\", \"location_id\", \"year\", \"month\", \"day\") filter <- list(   collection = \"Butterflies in Finnish agricultural landscapes\",   has_value = select ) surveys <- finbif_occurrence(   filter = filter,   select = select,   aggregate = \"events\",   aggregate_counts = FALSE,   n = \"all\",   quiet = TRUE ) surveys <- format_date(surveys)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/single-taxon-indicator-rbms.html","id":"count-data","dir":"Articles","previous_headings":"","what":"Count data","title":"Single-taxon indicator (rbms)","text":"Count data requires three fields selected: survey identifier (document_id) survey site section (section) measure abundance (abundance_interpreted). count data requires filters survey data (though filter has_value needs redefined). count data Aglais urticae (Small tortoiseshell) can now downloaded FinBIF. Two processing functions applied count data : sum counts survey site sections; combine count survey data together.","code":"select <- c(\"document_id\", \"section\", abundance = \"abundance_interpreted\") filter[[\"has_value\"]] <- select counts <- finbif_occurrence(   taxa = \"Aglais urticae\",   filter = filter,   select = select ,   n = \"all\",   quiet = TRUE ) counts <- sum_over_sections(counts, surveys)  counts <- combine_with_surveys(counts, surveys)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/single-taxon-indicator-rbms.html","id":"fit-rbms-model","dir":"Articles","previous_headings":"","what":"Fit RBMS Model","title":"Single-taxon indicator (rbms)","text":"RBMS model used estimate change abundance time (see RBMS documentation details) uncertainty estimated via bootstrapping.","code":"StartMonth <- 4 EndMonth <- 9 StartDay <- 1 EndDay <- 30 Anchor <- TRUE AnchorLength <- 14 AnchorLag <- 14 AnchorTimeUnit <- \"d\" NbrSample <- 500 MinVisit <- 5 MinOccur <- 2 MinNbrSite <- 5 MaxTrial <- 4 GamFamily <- \"nb\" FlightCurveTimeUnit <- \"w\" MultiVisit <- \"mean\" MinFC <- 0.10 boot_n <- 200  surveys <- select(surveys, site_id = location_id, year, date)  init_year <- min(surveys[[\"year\"]])  last_year <- max(surveys[[\"year\"]])  nyears <- last_year - init_year + 1  ts_date <- ts_dwmy_table(InitYear = init_year, LastYear = last_year)  ts_season <- ts_monit_season(   d_series     = ts_date,   StartMonth   = StartMonth,   EndMonth     = EndMonth,   StartDay     = StartDay,   EndDay       = EndDay,   Anchor       = Anchor,   AnchorLength = AnchorLength,   AnchorLag    = AnchorLag,   TimeUnit     = AnchorTimeUnit )  ts_season_visit <- ts_monit_site(m_visit = surveys, ts_season = ts_season)  counts <- mutate(counts, species = 1)  counts <- select(   counts, count = abundance, site_id = location_id, year, date, species )  ts_season_count <- ts_monit_count_site(   m_season_visit = ts_season_visit, m_count = counts )  ts_flight_curve <- flight_curve(   ts_season_count = ts_season_count,   NbrSample       = NbrSample,   MinVisit        = MinVisit,   MinOccur        = MinOccur,   MinNbrSite      = MinNbrSite,   MaxTrial        = MaxTrial,   GamFamily       = GamFamily,   SpeedGam        = FALSE,   TimeUnit        = FlightCurveTimeUnit,   MultiVisit      = MultiVisit,   verbose         = FALSE )  impt_counts <- impute_count(   ts_season_count = ts_season_count,   ts_flight_curve = ts_flight_curve[[\"pheno\"]],   TimeUnit        = FlightCurveTimeUnit,   MultiVisit      = MultiVisit )  sindex <- site_index(butterfly_count = impt_counts, MinFC = MinFC)  bootsample <- boot_sample(data = sindex, boot_n = boot_n)  index_mc <- mapply(   collated_index,   bootID = seq_len(boot_n),   MoreArgs = list(data = sindex, s_sp = 1, boot_ind = bootsample),   SIMPLIFY = FALSE )"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/single-taxon-indicator-rbms.html","id":"create-index","dir":"Articles","previous_headings":"","what":"Create Index","title":"Single-taxon indicator (rbms)","text":"index change relative abundance uncertainty derived bootstrapped estimates can created setting base year year 2000. Relative abundance Small tortoiseshell Farms Finland (calculated using RBMS)","code":"base <- which(sort(unique(surveys[[\"year\"]])) == 2000)  index_mc <- lapply(index_mc, getElement, \"col_index\")  index_mc <- do.call(rbind, index_mc)  index_mc <- mutate(index_mc, mc = log(pmax(1 / 100, COL_INDEX)), time = M_YEAR)  index_mc <- group_by(index_mc, BOOTi)  index_mc <- arrange(index_mc, time)  index_mc <- mutate(index_mc, mcf = lead(mc) - mc)  index_mc <- mutate(index_mc, mcf = lead(mcf, base - 1))  index_mc <- mutate(index_mc, mcf = lag(mcf, base, 0))  index_mc <- mutate(index_mc, mcf = cumsum(mcf))  index_mc <- arrange(index_mc, -time)  index_mc <- mutate(index_mc, mcb = lead(mc) - mc)  index_mc <- mutate(index_mc, mcb = lead(mcb, nyears - base))  index_mc <- mutate(index_mc, mcb = lag(mcb, nyears - base + 1, 0))  index_mc <- mutate(index_mc, mcb = cumsum(mcb))  index_mc <- group_by(index_mc, time)  index <- summarise(   index_mc,   mean = exp(mean(mcf)) * exp(mean(mcb)),   sd = sd(mcf) * exp(mean(mcf)) + sd(mcb) * exp(mean(mcb)) )  index <- mutate(index, lower = mean - sd, upper = mean + sd) ggplot(index) + aes(x = parse_date_time(time, \"Y\"), y = mean, ymin = lower, ymax = upper) + geom_ribbon(alpha = .2) + geom_line() + ylab(NULL) + xlab(NULL) + theme_minimal()"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/single-taxon-indicator-trim.html","id":"load-packages","dir":"Articles","previous_headings":"","what":"Load packages","title":"Single-taxon indicator (trim)","text":"following packages required. packages available CRAN apart fbi can installed GitHub.","code":"library(fbi) library(finbif) library(ggplot2) library(lubridate) library(rtrim)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/single-taxon-indicator-trim.html","id":"survey-data","dir":"Articles","previous_headings":"","what":"Survey data","title":"Single-taxon indicator (trim)","text":"five fields required survey data. filters restrict survey data “Point count” “Line transect” bird monitoring datasets 1979 onwards sites labelled “farmland” selected data fields missing data. survey data can now downloaded FinBIF. Two processing functions applied survey data first limit site first survey year limit surveys sites least two years surveyed.","code":"select <- c(\"document_id\", \"location_id\", \"year\", \"month\", \"day\") filter <- list(   location_tag = \"farmland\",   collection = c(     \"Point counts of breeding terrestrial birds\",     \"Line transect censuses of breeding birds\"   ),   date_range_ymd = c(\"1979-01-01\", \"\"),   has_value = select ) surveys <- finbif_occurrence(   filter = filter,   select = select,   aggregate = \"events\",   aggregate_counts = FALSE,   n = \"all\",   quiet = TRUE ) surveys <- pick_first_survey_in_year(surveys)  surveys <- require_two_years(surveys)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/single-taxon-indicator-trim.html","id":"count-data","dir":"Articles","previous_headings":"","what":"Count data","title":"Single-taxon indicator (trim)","text":"Count data requires two fields selected: survey identifier (document_id) measure abundance (case number breeding pairs: pair_abundance). count data requires filters survey data (though filter has_value needs redefined). count data Anthus pratensis (Meadow pipit) can now downloaded FinBIF. Three processing functions applied count data : infill count data zero occurrences using survey data; sum counts site-year combination; remove sites number breeding pairs zero every occasion.","code":"select <- c(\"document_id\", abundance = \"pair_abundance\") filter[[\"has_value\"]] <- select counts <- finbif_occurrence(   taxa = \"Anthus pratensis\",   filter = filter,   select = select,   n = \"all\",   quiet = TRUE ) counts <- zero_fill(counts, surveys)  counts <- sum_by_event(counts)  counts <- remove_all_zero_locations(counts)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/single-taxon-indicator-trim.html","id":"fit-trim-model","dir":"Articles","previous_headings":"","what":"Fit TRIM Model","title":"Single-taxon indicator (trim)","text":"TRIM model used estimate change abundance time.","code":"model <- trim(abundance ~ location_id + year, counts)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/articles/single-taxon-indicator-trim.html","id":"create-index","dir":"Articles","previous_headings":"","what":"Create Index","title":"Single-taxon indicator (trim)","text":"index change relative abundance created setting base year year 2000. Relative abundance Meadow pipit breeding pairs Farmland Finland (calculated using rTRIM)","code":"index <- index(model, base = 2000) ggplot(index) + aes(   x = parse_date_time(time, \"Y\"), y = imputed,   ymin = imputed - se_imp, ymax = imputed + se_imp ) + geom_ribbon(alpha = .2) + geom_line() + ylab(NULL) + xlab(NULL) + theme_minimal()"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Finnish Museum Natural History - Luomus. Copyright holder. William K. Morris. Author, maintainer.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Morris W (2022). fbi: Finnish Biodiversity Indicators. https://github.com/luomus/fin-biodiv-indicators, https://indicators.laji.fi.","code":"@Manual{,   title = {fbi: Finnish Biodiversity Indicators},   author = {William K. Morris},   year = {2022},   note = {https://github.com/luomus/fin-biodiv-indicators, https://indicators.laji.fi}, }"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/index.html","id":"finnish-biodiversity-indicators","dir":"","previous_headings":"","what":"Finnish Biodiversity Indicators","title":"Finnish Biodiversity Indicators","text":"Finnish biodiversity indicators (FBI) service providing time series abundance indices related metrics Finland. input data indices provided Finnish Biodiversity Information Facility. Biodiversity Indicator Birds Winter (Whole Finland)","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/index.html","id":"indicator-types","dir":"","previous_headings":"","what":"Indicator types","title":"Finnish Biodiversity Indicators","text":"Indicators either single-taxon multi-taxon. indicators calculated whole Finland well separately North (Lappi, Kainuu Pohjois-Pohjanmaa regions) South (regions).","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/index.html","id":"single-taxon-indicators","dir":"","previous_headings":"Indicator types","what":"Single-taxon indicators","title":"Finnish Biodiversity Indicators","text":"Single-taxon indicators track average abundance across monitoring sites, relative base year. example, base year 2000 indicator 2003 0.8, average abundance across sites monitored 2003 declined 20 percentage points relative average abundance sites monitored year 2000. Single-taxon indicators can calculated using different models including TRIM RBMS. Single-taxon indicators “belong” multi-taxon indicator individual taxa can constitute one single-taxon indicator “belonging” different multi-taxon indicator. example, Goldcrest (Regulus regulus) , belongs Winter Bird indicator Forest Breeding Bird indicator two corresponding single-taxon indicators species. taxon “belong” multi-taxon indicator contribute given indicator. example, single-taxon indicator Eurasian Sparrowhawk (Accipiter nisus) winter contribute multi-taxon Winter Bird Indicator.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/index.html","id":"multi-taxon-indicators","dir":"","previous_headings":"Indicator types","what":"Multi-taxon indicators","title":"Finnish Biodiversity Indicators","text":"Multi-taxon indicators come different forms. include: geometric mean relative abundance across set taxa; community temperature index set taxa; total expected abundance taxon group. multi-taxon indicators single-taxon indicators belong . Instead, multi-taxon indicators without single-taxon indicators can “reuse” input another multi-taxon indicator. example, single-taxon indices “belong” Winter Bird Community Temperature Index, multi-taxon indicator constructed taxa (extra taxa) fall Winter Bird indicator.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/check_input.html","id":null,"dir":"Reference","previous_headings":"","what":"Check input — check_input","title":"Check input — check_input","text":"Check indicator inputs","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/check_input.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check input — check_input","text":"","code":"check_input(index, model, taxon)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/check_input.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check input — check_input","text":"index Character. index? model Character. model? taxon Character. taxon?","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/clean_cache.html","id":null,"dir":"Reference","previous_headings":"","what":"Clean cache — clean_cache","title":"Clean cache — clean_cache","text":"Remove unneeded tables rows database cache.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/clean_cache.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Clean cache — clean_cache","text":"","code":"clean_cache(db)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/clean_cache.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Clean cache — clean_cache","text":"db Connection. Database cache.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/combine_with_surveys.html","id":null,"dir":"Reference","previous_headings":"","what":"Combine with surveys — combine_with_surveys","title":"Combine with surveys — combine_with_surveys","text":"Combine count data survey data","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/combine_with_surveys.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combine with surveys — combine_with_surveys","text":"","code":"combine_with_surveys(counts, surveys, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/combine_with_surveys.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combine with surveys — combine_with_surveys","text":"counts Count data. surveys Survey data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/combine_with_surveys.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Combine with surveys — combine_with_surveys","text":"function combines counts surveys data. performs inner join counts surveys document_id. function assumes counts surveys data include document_id.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/format_date.html","id":null,"dir":"Reference","previous_headings":"","what":"Format date — format_date","title":"Format date — format_date","text":"Combine year, month, day survey single date string","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/format_date.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Format date — format_date","text":"","code":"format_date(surveys, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/format_date.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Format date — format_date","text":"surveys Survey data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/format_date.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Format date — format_date","text":"function combines survey year, month day character string - separator. function assumes survey data includes year, month day.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/get_indices.html","id":null,"dir":"Reference","previous_headings":"","what":"Get indices — get_indices","title":"Get indices — get_indices","text":"Get indices configuration file.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/get_indices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get indices — get_indices","text":"","code":"get_indices(file = Sys.getenv(\"R_CONFIG_FILE\"))"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/get_indices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get indices — get_indices","text":"file Configuration file.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/get_output.html","id":null,"dir":"Reference","previous_headings":"","what":"Get output — get_output","title":"Get output — get_output","text":"Get serialized indicator outputs","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/get_output.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get output — get_output","text":"","code":"get_output(output, index, model, taxon, region, db)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/get_output.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get output — get_output","text":"output Character. type output? index Character. Update index? model Character. model use? taxon Character. taxon? region Character. region? db Connection. Database get output.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_fortnight.html","id":null,"dir":"Reference","previous_headings":"","what":"Pick first survey in fortnight — pick_first_survey_in_fortnight","title":"Pick first survey in fortnight — pick_first_survey_in_fortnight","text":"Pick first survey fortnight discarding subsequent surveys","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_fortnight.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pick first survey in fortnight — pick_first_survey_in_fortnight","text":"","code":"pick_first_survey_in_fortnight(surveys, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_fortnight.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pick first survey in fortnight — pick_first_survey_in_fortnight","text":"surveys Survey data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_fortnight.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pick first survey in fortnight — pick_first_survey_in_fortnight","text":"function groups surveys location_id, year fortnightthen orders date. first survey group removed. two surveys share date location_id one picked random rest removed. function assumes surveys data includes day, year (integers) location_id, processed function require_seven_fortnights.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_winter.html","id":null,"dir":"Reference","previous_headings":"","what":"Pick first survey in winter — pick_first_survey_in_winter","title":"Pick first survey in winter — pick_first_survey_in_winter","text":"Pick first winter survey year discarding subsequent surveys","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_winter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pick first survey in winter — pick_first_survey_in_winter","text":"","code":"pick_first_survey_in_winter(surveys, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_winter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pick first survey in winter — pick_first_survey_in_winter","text":"surveys Survey data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_winter.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pick first survey in winter — pick_first_survey_in_winter","text":"function moves surveys occurring December ahead one year. enables December surveys grouped subsequent surveys occurring January winter. Surveys grouped location_id year ordered date. first survey group removed. two surveys share date location_id one picked random rest removed. function works assumption surveys winter December January surveys data includes day, month year (integers) location_id.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Pick first survey in year — pick_first_survey_in_year","title":"Pick first survey in year — pick_first_survey_in_year","text":"Pick first survey year discarding subsequent surveys","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pick first survey in year — pick_first_survey_in_year","text":"","code":"pick_first_survey_in_year(surveys, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pick first survey in year — pick_first_survey_in_year","text":"surveys Survey data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/pick_first_survey_in_year.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pick first survey in year — pick_first_survey_in_year","text":"function groups surveys location_id year orders date. first survey group removed. two surveys share date location_id one picked random rest removed. function assumes surveys data includes day, month year (integers) location_id.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/process_funs.html","id":null,"dir":"Reference","previous_headings":"","what":"Process functions — process_funs","title":"Process functions — process_funs","text":"Functions process indicator input data.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/process_funs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process functions — process_funs","text":"","code":"process_funs()"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/process_funs.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process functions — process_funs","text":"surveys Survey data. counts Count data. taxon Taxon configuration. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/remove_all_zero_locations.html","id":null,"dir":"Reference","previous_headings":"","what":"Remove all-zero locations — remove_all_zero_locations","title":"Remove all-zero locations — remove_all_zero_locations","text":"Discard locations taxa always zero abundance","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/remove_all_zero_locations.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Remove all-zero locations — remove_all_zero_locations","text":"","code":"remove_all_zero_locations(counts, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/remove_all_zero_locations.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Remove all-zero locations — remove_all_zero_locations","text":"counts Count data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/remove_all_zero_locations.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Remove all-zero locations — remove_all_zero_locations","text":"function groups counts location_id removes counts includes location_id abundance.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_minimum_gaps.html","id":null,"dir":"Reference","previous_headings":"","what":"Require minimum gaps — require_minimum_gaps","title":"Require minimum gaps — require_minimum_gaps","text":"Remove survey site-years many large sampling gaps.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_minimum_gaps.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Require minimum gaps — require_minimum_gaps","text":"","code":"require_minimum_gaps(surveys, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_minimum_gaps.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Require minimum gaps — require_minimum_gaps","text":"surveys Survey data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_minimum_gaps.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Require minimum gaps — require_minimum_gaps","text":"function groups surveys data location_id year. removes groups survey period many large sampling gaps. many defined total gap length year 21 days large single sampling gap 7 days. function expects surveys data least location_id, year, ordinal_day_start ordinal_day_end.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_minimum_weeks.html","id":null,"dir":"Reference","previous_headings":"","what":"Require minimum weeks — require_minimum_weeks","title":"Require minimum weeks — require_minimum_weeks","text":"Remove survey site-years region covering less minimum number weeks.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_minimum_weeks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Require minimum weeks — require_minimum_weeks","text":"","code":"require_minimum_weeks(surveys, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_minimum_weeks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Require minimum weeks — require_minimum_weeks","text":"surveys Survey data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_minimum_weeks.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Require minimum weeks — require_minimum_weeks","text":"function groups surveys data location_id year. removes groups survey period less minimum number weeks given region. expects surveys data least location_id, year, region, ordinal_day_start ordinal_day_end.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_seven_fortnights.html","id":null,"dir":"Reference","previous_headings":"","what":"Require seven fortnights — require_seven_fortnights","title":"Require seven fortnights — require_seven_fortnights","text":"Divide year approximate 2 week blocks, selecting blocks 10-16 discarding locations without survey remaining block","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_seven_fortnights.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Require seven fortnights — require_seven_fortnights","text":"","code":"require_seven_fortnights(surveys, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_seven_fortnights.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Require seven fortnights — require_seven_fortnights","text":"surveys Survey data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_seven_fortnights.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Require seven fortnights — require_seven_fortnights","text":"function assigns survey approximate fortnight. fortnight defined days 16th day month days 15th day month. surveys falling outside date range seven fortnights second fortnight May second fortnight August removed. Surveys grouped location_id year surveys belonging groups least one survey occurring seven remaining fortnights discarded. function assumes surveys data day, month year (integers) location_id.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_two_years.html","id":null,"dir":"Reference","previous_headings":"","what":"Require at least two years — require_two_years","title":"Require at least two years — require_two_years","text":"Discard locations less two survey years","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_two_years.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Require at least two years — require_two_years","text":"","code":"require_two_years(surveys, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_two_years.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Require at least two years — require_two_years","text":"surveys Survey data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/require_two_years.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Require at least two years — require_two_years","text":"function groups surveys location_id removes surveys locations data one year. function assumes surveys data location_id year.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/set_start_year.html","id":null,"dir":"Reference","previous_headings":"","what":"Set start year — set_start_year","title":"Set start year — set_start_year","text":"Discard counts years start year","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/set_start_year.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set start year — set_start_year","text":"","code":"set_start_year(counts, taxon, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/set_start_year.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set start year — set_start_year","text":"counts Count data. taxon Taxon configuration. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/set_start_year.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set start year — set_start_year","text":"function sets start year taxon counts. variable start_year configured given taxon count data prior start_year removed.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/sum_by_event.html","id":null,"dir":"Reference","previous_headings":"","what":"Sum by event — sum_by_event","title":"Sum by event — sum_by_event","text":"Sum counts surveys taxa year","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/sum_by_event.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sum by event — sum_by_event","text":"","code":"sum_by_event(counts, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/sum_by_event.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sum by event — sum_by_event","text":"counts Count data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/sum_by_event.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sum by event — sum_by_event","text":"functions groups count data location_id year. multiple taxa counts input data also grouped taxa. Counts summed across survey events locations years.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/sum_over_sections.html","id":null,"dir":"Reference","previous_headings":"","what":"Sum over sections — sum_over_sections","title":"Sum over sections — sum_over_sections","text":"Sum counts sections surveys","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/sum_over_sections.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Sum over sections — sum_over_sections","text":"","code":"sum_over_sections(counts, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/sum_over_sections.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sum over sections — sum_over_sections","text":"counts Count data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/sum_over_sections.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sum over sections — sum_over_sections","text":"functions groups count data document_id (IDs individual surveys). multiple taxa counts input data also grouped taxa. Counts summed across survey sections count data provided surveys split parts.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/update_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Update data — update_data","title":"Update data — update_data","text":"Update input data FinBIF.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/update_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update data — update_data","text":"","code":"update_data(type, index, taxon, db, do_update = FALSE)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/update_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update data — update_data","text":"type Character. type input data (e.g., surveys counts) index Character. Update data index? taxon Character. Update data taxon? Ignored type = \"surveys\" db Connection. Database update data FinBIF. do_update Logical. Update data regardless need.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/update_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Update index — update_index","title":"Update index — update_index","text":"Update index output data.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/update_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update index — update_index","text":"","code":"update_index(index, model, region, db)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/update_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update index — update_index","text":"index Character. Update index? model Character. model use? region Character. region? db Connection. Database update index.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/update_taxon_index.html","id":null,"dir":"Reference","previous_headings":"","what":"Update taxon index — update_taxon_index","title":"Update taxon index — update_taxon_index","text":"Update relative abundance index taxon.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/update_taxon_index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update taxon index — update_taxon_index","text":"","code":"update_taxon_index(index, model, taxon, db)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/update_taxon_index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update taxon index — update_taxon_index","text":"index Character. Update index? model Character. model use? taxon Character. Update data taxa? db Connection. Database update index.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/zero_fill.html","id":null,"dir":"Reference","previous_headings":"","what":"Zero fill — zero_fill","title":"Zero fill — zero_fill","text":"Combine count data survey data filling missing surveys count data zero counts.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/zero_fill.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Zero fill — zero_fill","text":"","code":"zero_fill(counts, surveys, ...)"},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/zero_fill.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Zero fill — zero_fill","text":"counts Count data. surveys Survey data. ... Additional arguments.","code":""},{"path":"https://indicators-dev.laji.fi/docs/dev/dev/reference/zero_fill.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Zero fill — zero_fill","text":"function combines counts surveys data. performs right outer join counts surveys document_id. surveys corresponding data abundance filled zero. function assumes counts surveys data include document_id counts data includes abundance.","code":""}]
